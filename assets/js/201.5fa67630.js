(window.webpackJsonp=window.webpackJsonp||[]).push([[201],{973:function(t,s,a){"use strict";a.r(s);var n=a(25),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_287-寻找重复数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_287-寻找重复数"}},[t._v("#")]),t._v(" 287. 寻找重复数")]),t._v(" "),a("Valine"),t._v(" "),a("h2",{attrs:{id:"题目描述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#题目描述"}},[t._v("#")]),t._v(" 题目描述")]),t._v(" "),a("p",[t._v("题目传送门："),a("a",{attrs:{href:"https://leetcode-cn.com/problems/find-the-duplicate-number/",target:"_blank",rel:"noopener noreferrer"}},[t._v("287. 寻找重复数"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("给定一个包含 "),a("code",[t._v("n + 1")]),t._v(" 个整数的数组 "),a("code",[t._v("nums")]),t._v(" ，其数字都在 "),a("code",[t._v("[1, n]")]),t._v(" 范围内（包括 "),a("code",[t._v("1")]),t._v(" 和 "),a("code",[t._v("n")]),t._v("），可知至少存在一个重复的整数。")]),t._v(" "),a("p",[t._v("假设 "),a("code",[t._v("nums")]),t._v(" 只有 "),a("strong",[t._v("一个重复的整数")]),t._v(" ，返回 "),a("strong",[t._v("这个重复的数")]),t._v(" 。")]),t._v(" "),a("p",[t._v("你设计的解决方案必须 "),a("strong",[t._v("不修改")]),t._v(" 数组 "),a("code",[t._v("nums")]),t._v(" 且只用常量级 "),a("code",[t._v("O(1)")]),t._v(" 的额外空间。")]),t._v(" "),a("p",[a("strong",[t._v("示例 1：")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("输入：nums = [1,3,4,2,2]\n输出：2\n")])])]),a("p",[a("strong",[t._v("示例 2：")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("输入：nums = [3,1,3,4,2]\n输出：3\n")])])]),a("p",[a("strong",[t._v("提示：")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("1 <= n <= 10^5")])]),t._v(" "),a("li",[a("code",[t._v("nums.length == n + 1")])]),t._v(" "),a("li",[a("code",[t._v("1 <= nums[i] <= n")])]),t._v(" "),a("li",[a("code",[t._v("nums")]),t._v(" 中 "),a("strong",[t._v("只有一个整数")]),t._v(" 出现 "),a("strong",[t._v("两次或多次")]),t._v(" ，其余整数均只出现 "),a("strong",[t._v("一次")])])]),t._v(" "),a("p",[a("strong",[t._v("进阶：")])]),t._v(" "),a("ul",[a("li",[t._v("如何证明 "),a("code",[t._v("nums")]),t._v(" 中至少存在一个重复的数字?")]),t._v(" "),a("li",[t._v("你可以设计一个线性级时间复杂度 "),a("code",[t._v("O(n)")]),t._v(" 的解决方案吗？")])]),t._v(" "),a("h2",{attrs:{id:"题解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#题解"}},[t._v("#")]),t._v(" 题解")]),t._v(" "),a("p",[t._v("做本题之前，一定要看看 "),a("RouterLink",{attrs:{to:"/views/Algorithm/LeetCode/0141. 环形链表.html"}},[t._v("141. 环形链表")]),t._v(" 、 "),a("RouterLink",{attrs:{to:"/views/Algorithm/LeetCode/0142. 环形链表 II.html"}},[t._v("142. 环形链表 II")]),t._v("  ，应用的思想是一样的，都用 "),a("strong",[t._v("快慢指针")]),t._v(" 去解决。")],1),t._v(" "),a("p",[t._v("数组中如果有重复的数，那么就会产生多对一的映射，这样，形成的"),a("code",[t._v("链表")]),t._v("就一定会有环路了。")]),t._v(" "),a("p",[t._v("所以本题可以看作是：")]),t._v(" "),a("ol",[a("li",[t._v("数组中有一个重复的整数 "),a("strong",[t._v("等价于")]),t._v(" 链表中存在环")]),t._v(" "),a("li",[t._v("找到数组中的重复整数 "),a("strong",[t._v("等价于")]),t._v(" 找到链表的环入口")])]),t._v(" "),a("p",[t._v("注意，在本题中的快慢指针和 "),a("RouterLink",{attrs:{to:"/views/Algorithm/LeetCode/0141. 环形链表.html"}},[t._v("141. 环形链表")]),t._v(" 、 "),a("RouterLink",{attrs:{to:"/views/Algorithm/LeetCode/0142. 环形链表 II.html"}},[t._v("142. 环形链表 II")]),t._v("  写法上稍有不同：")],1),t._v(" "),a("p",[a("code",[t._v("141、142")]),t._v("题中慢指针走一步： "),a("code",[t._v("slow = slow.next")]),t._v(" 而在本题中是： "),a("code",[t._v("slow = nums[slow]")])]),t._v(" "),a("p",[a("code",[t._v("141、142")]),t._v("题中快指针走两步： "),a("code",[t._v("fast = fast.next.next")]),t._v(" 而在本题中是： "),a("code",[t._v("fast = nums[nums[fast]]")])]),t._v(" "),a("p",[t._v("注：")]),t._v(" "),a("p",[t._v("这种解法做得时候发现由于存在不包含重复数字的环，用快慢指针也没法没法从这种情况跳出去，所以一开始会感觉这种方法是错的，但提交了一下题目通过了，差点让我怀疑人生。")]),t._v(" "),a("p",[t._v("后来仔细思考了之后发现 "),a("strong",[t._v("由于数字从1开始计数，0这个位置不可能被其它位置的数字指向，所以0位置不可能在环内，所以从0开始遍历一定会指向某个包含重复数字的环")]),t._v(" 。")]),t._v(" "),a("p",[t._v("把这点想清楚很重要。")]),t._v(" "),a("p",[t._v("这个题还可以再改改，比如数字从0计数到n-1，那就得从n开始遍历了，少了哪个数就从哪开始遍历。")]),t._v(" "),a("p",[t._v("另外就是题目说了只有一个整数出现一次或多次，意味着也可能出现2次以上的情况，所以应该考虑重复次数大于2的情况，不过这时候相当于指针只会在第一次重复时形成的最小环中循环，后面的元素根本不会走到。比如说数组是"),a("code",[t._v("[1,2,3,4,2,5,2]")]),t._v("， 指针不可能走到下标为5的位置，最多是从"),a("code",[t._v("nums[3]")]),t._v("跳到下标为4的位置，下一步就会走到"),a("code",[t._v("nums[4]=2")]),t._v("就入环了，这点也需要注意。")]),t._v(" "),a("p",[t._v("总之坑是挺多的。")]),t._v(" "),a("p",[a("strong",[t._v("C++代码如下：")])]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Solution")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findDuplicate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" nums"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" slow "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fast "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            fast "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" nums"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("nums"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("fast"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            slow "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" nums"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("slow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("slow "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" fast"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" index1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 从头开始")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" index2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" slow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在相遇点开始")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 保证二者走的距离是一样多的，就能求出起始点")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("index1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" index2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    index1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" nums"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("index1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    index2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" nums"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("index2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" index1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("strong",[t._v("JavaScript代码如下：")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * @param {number[]} nums\n * @return {number}\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("findDuplicate")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("nums")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" slow "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" fast "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        slow "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" nums"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("slow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        fast "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" nums"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("nums"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("fast"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("slow "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" fast"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            fast "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("slow "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" fast"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                slow "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" nums"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("slow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                fast "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" nums"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("fast"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" fast"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])],1)}),[],!1,null,null,null);s.default=e.exports}}]);